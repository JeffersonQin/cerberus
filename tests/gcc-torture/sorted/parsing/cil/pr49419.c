#include "cerberus.h"
/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

struct S {
   int w ;
   int x ;
   int y ;
};
extern void abort(void) ;
struct S *t  ;
int foo(int n , int f , int *s , int m ) 
{ 
  int x ;
  int i ;
  int a ;

  {
  if (n == -1) {
    return (0);
  }
  x = n;
  i = 0;
  while ((t + x)->w == f && i < m) {
    x = (t + x)->x;
    i ++;
  }
  if (i == m) {
    abort();
  }
  a = i + 1;
  x = n;
  while (i > 0) {
    *(s + i) = (t + x)->y;
    x = (t + x)->x;
    i --;
  }
  *(s + 0) = x;
  return (a);
}
}
int main(void) 
{ 
  int s[3] ;
  struct S buf[3] ;
  int tmp ;

  {
  buf[0].w = 1;
  buf[0].x = 1;
  buf[0].y = 2;
  buf[1].w = 0;
  buf[1].x = 0;
  buf[1].y = 0;
  buf[2].w = 0;
  buf[2].x = 0;
  buf[2].y = 0;
  t = buf;
  tmp = foo(0, 1, s, 3);
  if (tmp != 2) {
    abort();
  }
  if (s[0] != 1 || s[1] != 2) {
    abort();
  }
  return (0);
}
}

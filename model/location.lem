open import Pervasives (* Lexing_ *)


type t =
  maybe (nat * nat) (* line, char positions *)

val unknown: t
let unknown = Nothing


val make: nat -> nat -> t
let make l c =
  Just (l, c)

(* open import {ocaml} `Lexing` *)

(*
type position = <|
  pos_fname: string;
  pos_lnum:  nat;
  pos_bol:   nat;
  pos_cnum:  nat
|>


type loc = <|
  start : position;
  stop  : position
|>
type t = maybe loc

val unknown: t
let unknown = Nothing



val make: position -> position -> t
let make s e = Just <|start = s; stop = e|>

let name              <|start = s; stop = _|> = s.pos_fname
let first_line        <|start = s; stop = _|> = s.pos_lnum
let last_line         <|start = _; stop = e|> = e.pos_lnum
let first_line_offset <|start = s; stop = _|> = s.pos_lnum
let last_line_offset  <|start = _; stop = e|> = e.pos_lnum
let first_char        <|start = s; stop = _|> = s.pos_cnum
let last_char         <|start = _; stop = e|> = e.pos_cnum
*)




(* val to_string: t -> string *)
(*
TODO[newLem]

let to_string  = function
  | Just p ->
      let f = first_line p in
      let l = last_line  p in
      if f = l then
        "line " ^ string_of_num f
      else
        "lines " ^ string_of_num f ^ "-" ^ string_of_num l
  | Nothing -> "Unknowned location"
end
*)

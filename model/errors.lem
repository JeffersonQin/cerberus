open import Global Core
import Location TypingError

type cause =
  | CSEM_NOT_SUPPORTED of string
  | CSEM_HIP of string (* this is for features we plan to support,
			  but that does not work yet *)
  
  (* Cabs0_to_ail *)
  | Cabs_to_ail__empty_type_specifier_list   (* STD ยง6.7.2#2, sentence 1 *)
  | Cabs_to_ail__invalid_type_specifier_list (* STD ยง6.7.2#2, sentence 2 *)










  | CONSTRAINT_6_6__3
  
  | CABS_TO_AIL_FUNCTION_REDEFINITION of string
  | CABS_TO_AIL_BLOCK_THREAD_LOCAL_ALONE
  | CABS_TO_AIL_THREAD_LOCAL_FUNCTION
  | CABS_TO_AIL_BLOCK_FUNCTION_STORAGE
  
  | CABS_TO_AIL_NO_STARTUP of string
  | CABS_TO_AIL_NOT_CONSTANT_EXRESSION
  | CABS_TO_AIL_CASE_NOT_INTEGER_CONSTANT_EXRESSION
  | CABS_TO_AIL_MULTIPLE_REGISTRATION of string
  | CABS_TO_AIL_DUPLICATED_LABEL
  | CABS_TO_AIL_UNDECLARED_IDENTIFIER of string
  | CABS_TO_AIL_UNDECLARED_TYPENAME of string
  | CABS_TO_AIL_MULTIPLE_STORAGE_CLASS
  | CABS_TO_AIL_ITERATION_DECLARATON_WRONG_STORAGE
  
  | AIL_TYPING of TypingError.typing_error
(*
  | AIL_TYPECHECK_CALL_RETURN
  | AIL_TYPECHECK_CALL_ARGUMENTS_ASSIGNABLE
  | AIL_TYPECHECK_CALL_NUMBER_OF_ARGUMENTS
  | AIL_TYPECHECK_CALL_FUNCTION_POINTER
  | AIL_TYPECHECK_INCR_LVALUE
  | AIL_TYPECHECK_INCR_REAL_OR_POINTER
  | AIL_TYPECHECK_ADDRESS_FUNCTION_OR_LVALUE
  | AIL_TYPECHECK_INDIRECTION_POINTER
  | AIL_TYPECHECK_MINUS_ARITHMETIC
  | AIL_TYPECHECK_PLUS_ARITHMETIC
  | AIL_TYPECHECK_BNOT_INTEGER
  | AIL_TYPECHECK_SIZEOF_INCOMPLETE
  | AIL_TYPECHECK_SIZEOF_FUNCTION
  | AIL_TYPECHECK_ALIGNOF_INCOMPLETE
  | AIL_TYPECHECK_CAST_NAME_SCALAR
  | AIL_TYPECHECK_CAST_OPERAND_SCALAR
  | AIL_TYPECHECK_MUL_ARITHMETIC
  | AIL_TYPECHECK_MOD_INTEGER
  | AIL_TYPECHECK_ADD_POINTER_INTEGER
  | AIL_TYPECHECK_ADD_INTEGER_POINTER
  | AIL_TYPECHECK_ADD_ALL
  | AIL_TYPECHECK_SUB_POINTER_TO_COMPLETE_OBJECT_FIRST
  | AIL_TYPECHECK_SUB_POINTER_TO_COMPLETE_OBJECT_SECOND
  | AIL_TYPECHECK_SUB_COMPATIBLE_POINTERS
  | AIL_TYPECHECK_SUB_POINTER_TO_COMPLETE_OBJECT
  | AIL_TYPECHECK_SUB_INTEGER_OR_POINTER
  | AIL_TYPECHECK_SUB_ALL
  | AIL_TYPECHECK_SHR_INTEGER_FIRST
  | AIL_TYPECHECK_SHR_INTEGER_SECOND
  | AIL_TYPECHECK_GE_COMPATIBLE
  | AIL_TYPECHECK_GE_POINTER_TO_OBJECT_FIRST
  | AIL_TYPECHECK_GE_POINTER_TO_OBJECT_SECOND
  | AIL_TYPECHECK_GE_REAL
  | AIL_TYPECHECK_GE_ALL
  | AIL_TYPECHECK_NE_POINTERS
  | AIL_TYPECHECK_NE_NULL_POINTER_CONSTANT_FIRST
  | AIL_TYPECHECK_NE_NULL_POINTER_CONSTANT_SECOND
  | AIL_TYPECHECK_NE_ARITHMETIC
  | AIL_TYPECHECK_NE_ALL
  | AIL_TYPECHECK_BAND_INTEGER
  | AIL_TYPECHECK_XOR_INTEGER
  | AIL_TYPECHECK_BOR_INTEGER
  | AIL_TYPECHECK_AND_SCALAR
  | AIL_TYPECHECK_OR_SCALAR
  | AIL_TYPECHECK_CONDITIONAL_SCALAR_FIRST
  | AIL_TYPECHECK_CONDITIONAL_NULL_POINTER_CONSTANT_SECOND
  | AIL_TYPECHECK_CONDITIONAL_NULL_POINTER_CONSTANT_THIRD
  | AIL_TYPECHECK_CONDITIONAL_POINTERS
  | AIL_TYPECHECK_CONDITIONAL_ARITHMETIC_SECOND
  | AIL_TYPECHECK_CONDITIONAL_STRUCTURE_OR_UNION
  | AIL_TYPECHECK_CONDITIONAL_COMPATIBLE_POINTERS
  | AIL_TYPECHECK_CONDITIONAL_ALL
  | AIL_TYPECHECK_ASSIGN_LVALUE
  | AIL_TYPECHECK_ASSIGN_STRUCTURE_OR_UNION
  | AIL_TYPECHECK_ASSIGN_VOID_POINTER_QUALIFIERS
  | AIL_TYPECHECK_ASSIGN_VOID_POINTER_FIRST
  | AIL_TYPECHECK_ASSIGN_VOID_POINTER_SECOND
  | AIL_TYPECHECK_ASSIGN_NULL_POINTER_CONSTANT
  | AIL_TYPECHECK_ASSIGN_POINTER_QUALIFIERS
  | AIL_TYPECHECK_ASSIGN_COMPATIBLE_POINTERS
  | AIL_TYPECHECK_ASSIGN_POINTERS
  | AIL_TYPECHECK_ASSIGN_ALL
  | AIL_TYPECHECK_ASSIGN_SUB_POINTER
  | AIL_TYPECHECK_ASSIGN_SUB_ARITHMETIC
  | AIL_TYPECHECK_ASSIGN_SUB_ALL
  | AIL_TYPECHECK_ASSIGN_OTHER_ARITHMETIC
  | AIL_TYPECHECK_IF_SCALAR
  | AIL_TYPECHECK_WHILE_SCALAR
  | AIL_TYPECHECK_DO_SCALAR
  | AIL_TYPECHECK_SWITCH_INTEGER
  | AIL_TYPECHECK_LVALUE_UNDEFINED
  | AIL_TYPECHECK_UNSUPPORTED of string
 *)
  
  | CASE_OUTSIDE_SWITCH
  | DEFAULT_OUTSIDE_SWITCH
  | UNSUPPORTED of string
  
  | CORE_TYPECHECK_INCORRECT_EXPECTED of core_type * core_type * string
  | CORE_TYPECHECK_IF_BRANCHES
  
  | CORE_TYPECHECK_GET_FAILURE
  | CORE_TYPECHECK_CALL_NUMBER_OF_ARGUMENTS of nat * nat
  | CORE_TYPECHECK_CALL_ARGUMENT_EFFECT
  | CORE_TYPECHECK_LET_EFFECT
  | CORE_TYPECHECK_LET_TUPLE
  | CORE_TYPECHECK_SEQ_PURE
  | CORE_TYPECHECK_SEQ_INCOMPATIBLE_ARITY of nat * nat
  | CORE_TYPECHECK_UNSEQ_PURE of string
  | CORE_TYPECHECK_UNDECLARED_FUNCTION of sym
  | CORE_TYPECHECK_UNDECLARED_SYMBOL of sym
  
  | CORE_TYPECHECK of string
  
  | CORE_UNDEF of list Undefined.undefined_behaviour
  
  | PARSER of string
  | OTHER of string

type t = Location.t * cause
